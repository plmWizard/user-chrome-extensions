/* =========================================================
   ADDWIZE — Dark Green Theme (Fusion Manage)
   Load AFTER vendor/app CSS
   ========================================================= */

/* Theme switch: only active when our attribute is present */
html[data-addwize-theme="dark-green"] body,
html[data-addwize-theme="dark-green"] body:has([data-theme="dark"]) {
  /* Base palette */
  --color-bg: #0e1114;
  --main-bg: red;
  --item-bg: #11181a;
  --item-menu: #0f1517;
  --hover-bg: #1a2326;
  --text-color: #e6f3ec; /* primary text */
  --item-text-color: #e6f3ec;
  --text-color-input: #cfe9de;
  --input-placeholder: #90a3a0;

  /* Brand greens */
  --button-action-bg: #50b394; /* action/primary (accent) */
  --tab-text-color: #50b394;
  --icon-bg-hover: #50b394;

  /* Secondary greens / borders */
  --button-hover-border-color: #50b394;
  --button-border-color-focus: #50b394;
  --dropdown-border: 1px solid #347763;
  --dropdown-active-border: 1px solid #50b394;
  --picklist-border: #50b394;
  --input-border-color: #2a3a37;

  /* Surfaces */
  --bg-menu: #0f1517;
  --bg-input: #0f1517;
  --hover-color: #e6f3ec;

  /* States / effects */
  --flyout-opacity: 0.98;
  --flyout-box-shadow: none;
  --button-active: #93cdba;
  --button-color-text: #0e1114;
  --button-border-color: #1d2a28;
  --button-focus-shadow: none;
  --button-hover-shadow: none;

  /* Table / row colors */
  --bg-even-rows: rgba(52, 119, 99, 0.15);
  --bg-even-rows-hover: rgba(80, 179, 148, 0.18);
  --bg-even-rows-selected: rgba(80, 179, 148, 0.28);
  --bg-even-rows-selected-hover: rgba(80, 179, 148, 0.35);
  --bg-odd-rows: #0e1114;
  --bg-odd-rows-hover: rgba(80, 179, 148, 0.12);
  --bg-odd-rows-selected: rgba(80, 179, 148, 0.28);
  --bg-odd-rows-selected-hover: rgba(80, 179, 148, 0.35);
  --bg-rows-selected-border: rgba(80, 179, 148, 0.45);
  --bg-table-header: #131a1c;

  /* Tabs */
  --tab-active-font-color: #e6f3ec;
  --tab-active-underline-color: #50b394;
  --adsk-component-tab-underline-background-color: #50b394;
  --adsk-component-tab-underline-border-color-selected: #50b394;
  --adsk-component-tab-underline-border-bottom-color: #50b394;
  --adsk-component-tab-underline-box-shadow-color-focus: #50b394;
  --tab-underline-box-shadow-color-focus: #50b394;
  --tab-underline-border-bottom-color: #50b394;
  --tab-underline-background-color: #50b394;
  --tab-underline-border-color-selected: #50b394;
  --tab-item-underline-color-on-hover: #50b394;
  --tab-item-underline-width-on-hover: 2px;

  /* Cards / preview */
  --preview-card-header-color: #1a2326;
  --preview-card-text-color: #e6f3ec;

  /* Icons + filters */
  --filter-bg: brightness(0) saturate(100%) invert(70%) sepia(10%)
    saturate(500%) hue-rotate(110deg) brightness(95%) contrast(90%);
  --filter-icon: brightness(0) saturate(100%) invert(100%) sepia(3%)
    saturate(758%) hue-rotate(91deg) brightness(110%) contrast(96%);

  /* Autodesk semantic bridges */
  --adsk-semantic-text-color-medium-default: #d7e7e1;
  --adsk-semantic-icon-color-medium: #a7c8be;
  --adsk-semantic-status-color-success: #50b394;
  --adsk-semantic-status-color-info: #50b394;
  --adsk-semantic-status-color-warning: #e5b35b;
  --adsk-semantic-status-color-error: #e06666;

  /* Selection highlights */
  --adsk-semantic-border-color-selected: rgba(80, 179, 148, 0.5);
  --adsk-semantic-background-color-selected-default: rgba(80, 179, 148, 0.2);
  --adsk-semantic-background-color-selected-hover: rgba(80, 179, 148, 0.3);
  --adsk-semantic-background-color-selected-focus: rgba(80, 179, 148, 0.35);

  /* Controls */
  --adsk-semantic-background-color-input-box: #0f1517;
  --adsk-semantic-border-color-input-box: #253532;
  --adsk-semantic-background-color-neutral-high-default: #121819;

  /* Links */
  --adsk-semantic-text-color-link-default: #6dd4b7;
  --adsk-semantic-text-color-link-inverse: #6dd4b7;

  /* Local misc */
  --awz-backdrop: rgba(14, 17, 20, 0.75);
  --awz-surface-border: #22302e;
}

/* ---------- Global hardening ---------- */
html[data-addwize-theme="dark-green"] body,
html[data-addwize-theme="dark-green"] html,
html[data-addwize-theme="dark-green"] .layout-fill,
html[data-addwize-theme="dark-green"] .md-content,
html[data-addwize-theme="dark-green"] .ui.segment,
html[data-addwize-theme="dark-green"] .workspace-content,
html[data-addwize-theme="dark-green"] .content,
html[data-addwize-theme="dark-green"] .sui-app,
html[data-addwize-theme="dark-green"] .sui-page,
html[data-addwize-theme="dark-green"] .sui-layout,
html[data-addwize-theme="dark-green"] .view-container,
html[data-addwize-theme="dark-green"] .main-content {
  background: var(--color-bg) !important;
}

html[data-addwize-theme="dark-green"] body,
html[data-addwize-theme="dark-green"] body * {
  color: var(--text-color) !important;
}

html[data-addwize-theme="dark-green"] body {
  --result-search-page-bg: var(--color-bg);
  --footer-bg-color: var(--color-bg);
}

/* Headers / breadcrumb bar */
html[data-addwize-theme="dark-green"] .sui-header,
html[data-addwize-theme="dark-green"] md-toolbar,
html[data-addwize-theme="dark-green"] .workspace-breadcrumb,
html[data-addwize-theme="dark-green"] .global-breadcrumb {
  background: var(--bg-menu) !important;
  color: var(--text-color) !important;
  border-bottom: 1px solid #1d2a28 !important;
}

/* ---------- Inputs & dropdowns ---------- */
html[data-addwize-theme="dark-green"] input,
html[data-addwize-theme="dark-green"] textarea,
html[data-addwize-theme="dark-green"] select,
html[data-addwize-theme="dark-green"] .md-input,
html[data-addwize-theme="dark-green"] md-input-container .md-input,
html[data-addwize-theme="dark-green"] md-input-container .md-datepicker-input,
html[data-addwize-theme="dark-green"] .md-datepicker-input {
  background: var(--bg-input) !important;
  color: var(--text-color-input) !important;
  border-color: var(--input-border-color) !important;
}

html[data-addwize-theme="dark-green"] ::placeholder {
  color: var(--input-placeholder) !important;
  opacity: 1 !important;
}

/* md-select */
html[data-addwize-theme="dark-green"] .md-select-value {
  border-bottom: 1px solid var(--input-border-color) !important;
  color: var(--text-color) !important;
}
html[data-addwize-theme="dark-green"]
  md-select:not([disabled]):focus
  .md-select-value {
  border-bottom: 2px solid var(--button-action-bg) !important;
}
html[data-addwize-theme="dark-green"] md-select-menu {
  background-color: var(--item-bg) !important;
  color: var(--text-color) !important;
  border: 1px solid var(--awz-surface-border) !important;
}

/* Autocomplete */
html[data-addwize-theme="dark-green"] .md-autocomplete-suggestions {
  background: var(--item-bg) !important;
  color: var(--text-color) !important;
  border: 1px solid var(--awz-surface-border) !important;
}
html[data-addwize-theme="dark-green"] .md-autocomplete-suggestions li:hover {
  background: var(--hover-bg) !important;
}

/* ---------- Buttons ---------- */
/* Primary/raised buttons to crisp green */
html[data-addwize-theme="dark-green"] .md-button.md-raised,
html[data-addwize-theme="dark-green"] .md-button.md-primary,
html[data-addwize-theme="dark-green"] .sui-button--primary,
html[data-addwize-theme="dark-green"] .ui.primary.button,
html[data-addwize-theme="dark-green"] .ui.blue.button,
html[data-addwize-theme="dark-green"] .sui-button.sui-button--primary,
html[data-addwize-theme="dark-green"] .md-button.md-raised.md-primary {
  background: var(--button-action-bg) !important;
  color: var(--button-color-text) !important;
  border: 1px solid var(--button-hover-border-color) !important;
  box-shadow: none !important;
}

html[data-addwize-theme="dark-green"] .md-button:hover,
html[data-addwize-theme="dark-green"] .sui-button:hover,
html[data-addwize-theme="dark-green"] .ui.primary.button:hover,
html[data-addwize-theme="dark-green"] .ui.blue.button:hover {
  filter: brightness(1.06);
}

/* Disabled buttons */
html[data-addwize-theme="dark-green"] [disabled].md-button,
html[data-addwize-theme="dark-green"] .ui.button.disabled {
  color: #7fa99a !important;
  background-color: #162023 !important;
  border: 1px solid #22302e !important;
  box-shadow: none !important;
}

/* Secondary / default buttons = subtle outline */
html[data-addwize-theme="dark-green"] .ui.button:not(.primary):not(.blue),
html[data-addwize-theme="dark-green"]
  .md-button:not(.md-primary):not(.md-raised) {
  background: transparent !important;
  color: var(--text-color) !important;
  border: 1px solid #2a3a37 !important;
}

/* Icon buttons */
html[data-addwize-theme="dark-green"] .md-button.md-icon-button {
  color: var(--text-color) !important;
}

/* ---------- Tabs ---------- */
html[data-addwize-theme="dark-green"] .sui-tab__item--active::after,
html[data-addwize-theme="dark-green"] .md-tab.md-active::after {
  background: var(--tab-item-underline-color-on-hover) !important;
  height: 2px !important;
}
html[data-addwize-theme="dark-green"] .md-tabs-content,
html[data-addwize-theme="dark-green"] .sui-tab__content {
  background: var(--color-bg) !important;
}

/* ---------- Tables & grids ---------- */
html[data-addwize-theme="dark-green"] .ui-grid,
html[data-addwize-theme="dark-green"] .ui-grid-canvas,
html[data-addwize-theme="dark-green"] .ui-grid-header,
html[data-addwize-theme="dark-green"] .ui-grid-row,
html[data-addwize-theme="dark-green"] .ui-grid-cell {
  background: transparent !important;
  border-color: #22302e !important;
}

/* Zebra rows + hover (generic) */
html[data-addwize-theme="dark-green"]
  .ui-grid-row:nth-child(even)
  .ui-grid-cell {
  background: var(--bg-even-rows) !important;
}
html[data-addwize-theme="dark-green"]
  .ui-grid-row:nth-child(odd)
  .ui-grid-cell {
  background: var(--bg-odd-rows) !important;
}
html[data-addwize-theme="dark-green"] .ui-grid-row:hover .ui-grid-cell {
  background: var(--hover-bg) !important;
}

/* ---------- Cards / panels ---------- */
html[data-addwize-theme="dark-green"] .md-card,
html[data-addwize-theme="dark-green"] .sui-card,
html[data-addwize-theme="dark-green"] .panel {
  background-color: var(--item-bg) !important;
  color: var(--text-color) !important;
  border-color: #22302e !important;
  box-shadow: none !important;
}

/* Semantic UI cards */
html[data-addwize-theme="dark-green"] .ui.card,
html[data-addwize-theme="dark-green"] .ui.cards > .card {
  background: var(--item-bg) !important;
  color: var(--item-text-color) !important;
  border: 1px solid var(--awz-surface-border) !important;
  box-shadow: none !important;
}
html[data-addwize-theme="dark-green"] .ui.card > .content,
html[data-addwize-theme="dark-green"] .ui.cards > .card > .content {
  border-top: 1px solid var(--awz-surface-border) !important;
  color: var(--item-text-color) !important;
}
html[data-addwize-theme="dark-green"] .ui.card .meta,
html[data-addwize-theme="dark-green"] .ui.cards > .card .meta {
  color: #a7c8be !important;
}

/* ---------- Dialogs & backdrops ---------- */
html[data-addwize-theme="dark-green"] md-dialog {
  background: var(--item-bg) !important;
  color: var(--text-color) !important;
  border: 1px solid var(--awz-surface-border) !important;
  box-shadow: none !important;
}
html[data-addwize-theme="dark-green"] md-dialog .md-dialog-content {
  background: var(--item-bg) !important;
  color: var(--text-color) !important;
}
html[data-addwize-theme="dark-green"] md-dialog .md-actions .md-button {
  color: var(--text-color) !important;
  border: 1px solid #2a3a37 !important;
  background: transparent !important;
}
html[data-addwize-theme="dark-green"] md-backdrop.md-opaque {
  background: var(--awz-backdrop) !important;
  opacity: 1 !important;
}

/* ---------- Checkbox / Radio / Switch ---------- */
html[data-addwize-theme="dark-green"] md-checkbox .md-icon {
  border-color: var(--picklist-border) !important;
}
html[data-addwize-theme="dark-green"] md-checkbox.md-checked .md-icon {
  background-color: var(--button-action-bg) !important;
  border-color: var(--button-action-bg) !important;
}
html[data-addwize-theme="dark-green"] md-checkbox.md-checked .md-icon:after {
  border-color: var(--button-color-text) !important; /* tick */
}

html[data-addwize-theme="dark-green"] md-radio-button .md-on {
  background-color: var(--button-action-bg) !important;
}
html[data-addwize-theme="dark-green"] md-radio-button .md-off {
  border-color: var(--picklist-border) !important;
}

html[data-addwize-theme="dark-green"] md-switch .md-thumb {
  background-color: var(--button-action-bg) !important;
}
html[data-addwize-theme="dark-green"] md-switch.md-checked .md-bar {
  background-color: rgba(80, 179, 148, 0.35) !important;
}

/* ---------- Headers / toolbars ---------- */
html[data-addwize-theme="dark-green"] md-toolbar,
html[data-addwize-theme="dark-green"] .workspace-breadcrumb,
html[data-addwize-theme="dark-green"] .global-breadcrumb {
  background: var(--bg-menu) !important;
  color: var(--text-color) !important;
  border-bottom: 1px solid #1d2a28 !important;
}

/* ---------- Datepicker popover ---------- */
html[data-addwize-theme="dark-green"] .md-datepicker-calendar-pane,
html[data-addwize-theme="dark-green"] .md-calendar {
  background: var(--item-bg) !important;
  color: var(--text-color) !important;
  border: 1px solid var(--awz-surface-border) !important;
}

/* ---------- Coach marks / tours ---------- */
html[data-addwize-theme="dark-green"]
  coach-marker-popover
  .coach-marks-button-container
  a[it-id="TOUR_DONE"],
html[data-addwize-theme="dark-green"]
  coach-marker-popover
  .coach-marks-button-container
  a[it-id="TOUR_NEXT"] {
  background: var(--button-action-bg) !important;
  color: var(--button-color-text) !important;
  border: 1px solid var(--button-hover-border-color) !important;
}

/* =========================================================
   ITEM DETAILS CONTAINER — force dark + zebra/selection
   ========================================================= */
html[data-addwize-theme="dark-green"] .item-details-table,
   html[data-addwize-theme="dark-green"] .item-details-container {
  background: var(--color-bg) !important;
  color: var(--text-color) !important;
}

/* Table header inside details container */
html[data-addwize-theme="dark-green"] .item-details-container thead th {
  background: var(--bg-table-header) !important;
  color: var(--text-color) !important;
  border-bottom: 1px solid #22302e !important;
}

/* Zebra rows + hover using remapped variables */
html[data-addwize-theme="dark-green"]
  .item-details-container
  tbody
  tr:nth-child(even)
  td {
  background: var(--bg-even-rows) !important;
}
html[data-addwize-theme="dark-green"]
  .item-details-container
  tbody
  tr:nth-child(odd)
  td {
  background: var(--bg-odd-rows) !important;
}
html[data-addwize-theme="dark-green"]
  .item-details-container
  tbody
  tr:hover
  td {
  background: var(--hover-bg) !important;
}

/* Selected states (cover common markers) */
html[data-addwize-theme="dark-green"]
  .item-details-container
  tbody
  tr.is-selected
  td,
html[data-addwize-theme="dark-green"]
  .item-details-container
  tbody
  tr[aria-selected="true"]
  td,
html[data-addwize-theme="dark-green"]
  .item-details-container
  tbody
  tr.selected
  td {
  background: var(--bg-odd-rows-selected) !important;
  outline: 1px solid var(--bg-rows-selected-border) !important;
  outline-offset: -1px;
}
html[data-addwize-theme="dark-green"]
  .item-details-container
  tbody
  tr.is-selected:hover
  td,
html[data-addwize-theme="dark-green"]
  .item-details-container
  tbody
  tr[aria-selected="true"]:hover
  td,
html[data-addwize-theme="dark-green"]
  .item-details-container
  tbody
  tr.selected:hover
  td {
  background: var(--bg-odd-rows-selected-hover) !important;
}

/* Cell borders */
html[data-addwize-theme="dark-green"] .item-details-container td,
html[data-addwize-theme="dark-green"] .item-details-container th {
  border-color: #22302e !important;
}

/* Section */
html[data-addwize-theme="dark-green"] .section-wrapper,
html[data-addwize-theme="dark-green"] .section-wrapper .header-description{
  background-color: black;
}